{% if not user %}
    {% if auth0Configured %}
        <div class="auth0-login-container">
            {% if showTraditionalLogin %}
                <div class="login-divider">
                    <span>or</span>
                </div>
            {% endif %}
            
            <form
                data-request="onAuth0Login"
                data-request-redirect="{{ redirectAfterLogin }}"
                class="auth0-login-form">
                
                <button type="submit" class="{{ buttonClass }}">
                    <i class="icon-shield"></i> {{ buttonText }}
                </button>
            </form>
        </div>
    {% else %}
        <!-- Auth0 is not configured -->
    {% endif %}
{% else %}
    <div class="auth0-user-info">
        <p>Logged in as: {{ user.email }}</p>
        {% if user.auth0_id %}
            <p><small>Auth0 User</small></p>
        {% endif %}
        
        <form
            data-request="onAuth0Logout"
            class="auth0-logout-form">
            <button type="submit" class="btn btn-default">
                Logout
            </button>
        </form>
    </div>
{% endif %}

<style>
.auth0-login-container {
    margin: 20px 0;
}

.login-divider {
    text-align: center;
    margin: 20px 0;
    position: relative;
}

.login-divider span {
    background: #fff;
    padding: 0 10px;
    position: relative;
    z-index: 1;
}

.login-divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: #ddd;
}

.auth0-login-form button {
    width: 100%;
}

.auth0-user-info {
    padding: 15px;
    background: #f5f5f5;
    border-radius: 4px;
}
</style>